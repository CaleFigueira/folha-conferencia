ğŸ“˜ PRD â€“ Plataforma de Auditoria de Folha

VersÃ£o: 1.3
ResponsÃ¡vel: CalÃª
Status: Atualizado incluindo regras de negÃ³cio completas

1. VisÃ£o do Produto

A plataforma tem como objetivo realizar auditoria automatizada de folha de pagamento, garantindo:

IdentificaÃ§Ã£o de divergÃªncias entre perÃ­odos,

VerificaÃ§Ã£o de regras trabalhistas e contratuais,

ConsistÃªncia entre bases auxiliares e folha,

DetecÃ§Ã£o de variaÃ§Ãµes anormais,

Rastreabilidade completa e registro histÃ³rico,

Interface responsiva e moderna construÃ­da em React.

O foco Ã© padronizar a auditoria, reduzir erros e permitir anÃ¡lises Ã¡geis e confiÃ¡veis.

2. Estrutura do Sistema (Conceitual)
2.1 Camada de ApresentaÃ§Ã£o

Interface web responsiva em React.

Componentes reutilizÃ¡veis.

NavegaÃ§Ã£o clara entre mÃ³dulos: upload, auditoria, divergÃªncias, relatÃ³rios, configuraÃ§Ãµes.

Suporte a uso â€œPWA-likeâ€, permitindo instalaÃ§Ã£o como aplicativo.

2.2 Camada de Processamento

ResponsÃ¡vel por:

Interpretar arquivos de folha e arquivos auxiliares,

Validar a estrutura dos arquivos,

Normalizar dados,

Aplicar regras de negÃ³cio,

Comparar perÃ­odos,

Gerar divergÃªncias classificadas,

Registrar logs completos.

2.3 Camada de Armazenamento

Armazenamento de arquivos originais enviados,

Banco estruturado para auditorias, divergÃªncias, eventos, logs e regras,

Versionamento de regras e parÃ¢metros.

3. Arquivos NecessÃ¡rios

A auditoria depende de arquivos principais + auxiliares obrigatÃ³rios.

3.1 Arquivos Principais

base_folha_mes_atual

base_folha_mes_anterior

Usos:

ComparaÃ§Ã£o mensal,

IdentificaÃ§Ã£o de variaÃ§Ãµes,

DetecÃ§Ã£o de eventos ausentes ou indevidos,

AlteraÃ§Ãµes comportamentais.

3.2 Arquivos Auxiliares ObrigatÃ³rios

base_ferias_mes

base_admitidos_mes

base_demitidos_mes

base_licenciados_mes

Usos:

Regras de fÃ©rias,

Regras de admissÃ£o,

Regras de demissÃ£o,

Regras de afastamentos/licenÃ§as,

ValidaÃ§Ãµes combinadas.

4. Objetivos do Produto
Funcionais

Permitir upload simultÃ¢neo de todos os arquivos necessÃ¡rios.

Validar estrutura das bases.

Processar auditoria completa e automatizada.

Identificar divergÃªncias por regra.

Exibir painÃ©is consolidados.

Exportar relatÃ³rios.

Armazenar histÃ³rico de auditorias.

NÃ£o Funcionais

Escalabilidade, modularidade e rastreabilidade.

SeguranÃ§a de dados.

Interface intuitiva e responsiva.

ComponentizaÃ§Ã£o e padronizaÃ§Ã£o em React.

5. Personas
1. Analista de RH

Opera auditorias e interpreta divergÃªncias.

2. Auditor

ResponsÃ¡vel por anÃ¡lise crÃ­tica e emissÃ£o de parecer.

3. Gestor

Avalia resultados globais e indicadores.

4. Administrador

Gerencia regras, parÃ¢metros e usuÃ¡rios.

6. Requisitos Funcionais
6.1 Upload e ValidaÃ§Ã£o
ID	Requisito
RF-01	Upload de base_folha_mes_atual e base_folha_mes_anterior.
RF-02	Upload dos arquivos auxiliares obrigatÃ³rios: fÃ©rias, admitidos, demitidos, licenciados.
RF-03	ValidaÃ§Ã£o estrutural das bases (colunas obrigatÃ³rias, tipos, integridade).
RF-04	Registro de metadados do arquivo.
RF-05	Armazenamento dos arquivos originais.
RF-06	Somente permitir auditoria se todos os arquivos necessÃ¡rios forem enviados.
6.2 Processamento da Auditoria
ID	Requisito
RF-20	Normalizar e consolidar dados enviados.
RF-21	Comparar mÃªs atual Ã— mÃªs anterior.
RF-22	Aplicar regras das bases auxiliares.
RF-23	Aplicar regras de divergÃªncia (R1â€“R10).
RF-24	Classificar divergÃªncias por severidade.
RF-25	Registrar logs completos da auditoria.
RF-26	Permitir reprocessamento.
6.3 Dashboard e RelatÃ³rios
ID	Requisito
RF-40	Exibir total de divergÃªncias por categoria.
RF-41	Drill-down por matrÃ­cula e por evento.
RF-42	Comparativos mensais.
RF-43	ExportaÃ§Ã£o CSV e PDF.
RF-44	Indicadores de variÃ¡veis (total, variaÃ§Ã£o nominal e %).
6.4 SeguranÃ§a
ID	Requisito
RF-80	Controle de acesso por usuÃ¡rio e perfil.
RF-81	SegregaÃ§Ã£o por unidade/empresa.
RF-82	Logs de aÃ§Ãµes e trilha de auditoria.
7. Regras de NegÃ³cio (Completas e Consolidadas)

A auditoria aplica regras de comparaÃ§Ã£o entre perÃ­odos, regras derivadas de bases auxiliares, regras por grupo de cÃ³digo, equivalÃªncias e lÃ³gicas comportamentais definidas com a Ã¡rea de negÃ³cio.

7.1 Regras de DivergÃªncia (R1â€“R10)
R1 â€” Evento Novo

Evento aparece no mÃªs atual, mas nÃ£o no anterior.

R2 â€” Evento Removido

Evento existia no mÃªs anterior e nÃ£o aparece no atual.

R3 â€” Valor Alterado

Mesmo evento presente nos dois meses com variaÃ§Ã£o acima da tolerÃ¢ncia.

R4 â€” EquivalÃªncia com FÃ©rias

Se o evento mudou para seu correspondente de fÃ©rias, nÃ£o Ã© divergÃªncia.

R5 â€” FuncionÃ¡rio Admitido

Deve constar no mÃªs atual.

NÃ£o deve constar no mÃªs anterior.

Eventos devem ser proporcionais Ã  data de admissÃ£o.

R6 â€” FuncionÃ¡rio Demitido

Deve ter eventos de rescisÃ£o.

NÃ£o pode ter eventos apÃ³s data de desligamento.

NÃ£o pode constar no mÃªs seguinte.

R7 â€” Evento Duplicado

Mesmo cÃ³digo repetido para a mesma matrÃ­cula.

R8 â€” Evento Fantasma

Evento nÃ£o classificado nas tabelas de referÃªncia.

R9 â€” Proventos VariÃ¡veis

Valida:

existÃªncia esperada,

variaÃ§Ã£o nominal e %,

coerÃªncia com comportamento histÃ³rico.

R10 â€” Ajustes/DiferenÃ§as

Eventos devem:

estar associados ao evento-base,

ser coerentes com regras,

destacar variaÃ§Ã£o entre meses.

7.2 Regras EspecÃ­ficas das Bases Auxiliares
Admitidos

NÃ£o podem aparecer no mÃªs anterior.

NÃ£o podem ter eventos incompatÃ­veis (fÃ©rias, rescisÃ£o, etc.).

Valores devem ser proporcionais Ã  data de admissÃ£o.

Demitidos

Devem possuir eventos de rescisÃ£o corretos.

NÃ£o podem receber eventos apÃ³s desligamento.

NÃ£o podem constar no perÃ­odo seguinte.

FÃ©rias

Deve haver evento de fÃ©rias + 1/3 constitucional.

NÃ£o podem ocorrer variÃ¡veis ou horas extras.

RemuneraÃ§Ã£o deve ser proporcional.

Licenciados

NÃ£o podem receber salÃ¡rio normal.

Devem possuir evento de afastamento.

Comportamento apÃ³s retorno deve ser normalizado.

7.3 Tabela De/Para (Eventos com e sem FÃ©rias)
Sem FÃ©rias	Com FÃ©rias	DescriÃ§Ã£o
6262	5262	Base salarial com fÃ©rias
6254	5254	Adicional funÃ§Ã£o com fÃ©rias
6281	5281	Periculosidade com fÃ©rias
6272	5272	Insalubridade com fÃ©rias
5020	5023	1/3 constitucional

Regra:
EquivalÃªncias evitam falso positivo na comparaÃ§Ã£o.

7.4 Regras Combinadas

Colaborador sÃ³ pode estar em um status ativo no mÃªs.

Evento deve condizer com seu status:

licenciado â†’ sem salÃ¡rio

admitido â†’ sem valores no mÃªs anterior

AusÃªncia de evento obrigatÃ³rio â†’ divergÃªncia.

Evento indevido â†’ divergÃªncia.

VariaÃ§Ã£o entre meses deve considerar status.

7.5 Regras de Grupo de CÃ³digos
VariÃ¡veis

Horas extras, comissÃµes, prÃªmios, adicionais.

Devem ser analisadas no comportamento mensal.

Indicadores obrigatÃ³rios:

total do mÃªs

variaÃ§Ã£o nominal

variaÃ§Ã£o percentual

Ajustes e DiferenÃ§as

ComparaÃ§Ã£o sempre mÃªs Ã— mÃªs.

Devem justificar correÃ§Ãµes ao evento base.

DevoluÃ§Ãµes

Devem estar associadas a eventos originais.

LÃ­quido de Folha

ComparaÃ§Ã£o macro entre perÃ­odos.

Identifica tendÃªncias e oscilaÃ§Ãµes atÃ­picas.

7.6 Escopos de ComparaÃ§Ã£o
Mensal Ã— Mensal

Aplica todas as regras (R1â€“R10) + De/Para + bases auxiliares.

Adiantamento Ã— Adiantamento

Foco em:

variÃ¡veis,

ajustes,

proporcionalidade.

LÃ­quido Ã— LÃ­quido

Avalia variaÃ§Ã£o total consolidada.

7.7 Regras IncluÃ­das Conforme ReuniÃ£o de Status

InclusÃ£o das bases de afastados como obrigatÃ³rias.

InclusÃ£o da base de adiantamento como escopo prÃ³prio.

CriaÃ§Ã£o de grupos de cÃ³digo por aÃ§Ã£o.

SeparaÃ§Ã£o entre cÃ³digos de remuneraÃ§Ã£o variÃ¡vel Ã— valores variÃ¡veis.

MarcaÃ§Ã£o de meses permitidos para ocorrÃªncia de variÃ¡veis.

Indicadores obrigatÃ³rios para remuneraÃ§Ã£o variÃ¡vel.

Destaque de variaÃ§Ãµes de ajustes entre meses.

InclusÃ£o de comparativo especÃ­fico de lÃ­quidos.

8. Fluxo de Auditoria Completa

UsuÃ¡rio envia todos os arquivos obrigatÃ³rios.

Sistema valida estrutura.

Dados sÃ£o normalizados.

Regras de negÃ³cio sÃ£o aplicadas (R1â€“R10 + auxiliares + grupos).

DivergÃªncias sÃ£o geradas e classificadas.

Dashboard resume resultados.

RelatÃ³rios podem ser exportados.

9. UX / Design

Layout em React com componentes modulares.

Tabelas otimizadas para grande volume.

Ãcones e cores indicando severidade.

NavegaÃ§Ã£o clara entre mÃ³dulos.

Design responsivo mobile-first.

10. Roadmap
Fase 1 â€“ MVP

Upload completo

Auditoria mensal

DivergÃªncias

RelatÃ³rios bÃ¡sicos

Fase 2 â€“ ExpansÃ£o

ParÃ¢metros avanÃ§ados

Auditoria adiantamento

Indicadores inteligentes

Comparativo de lÃ­quidos

Fase 3 â€“ EvoluÃ§Ã£o para MicroSaaS

Multiempresa

Portal do cliente

Dashboards avanÃ§ados

11. KPIs

% de divergÃªncias por perÃ­odo

Tempo mÃ©dio de auditoria

Severidade mÃ©dia

VariaÃ§Ã£o de variÃ¡veis

OscilaÃ§Ã£o do lÃ­quido de folha